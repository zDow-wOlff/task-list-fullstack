<div class="task-item" [class.completed]="task.done">
  <div class="task-header">
    <h3 *ngIf="!editMode">{{ task.description }}</h3>
    <input *ngIf="editMode" [(ngModel)]="editedTask.description" class="edit-input">
    <div class="task-actions">
      <button *ngIf="!editMode" (click)="onEdit()" class="edit">Edit</button>
      <button *ngIf="editMode" (click)="onSave()" class="save">Save</button>
      <button *ngIf="editMode" (click)="onCancel()" class="cancel">Cancel</button>
      <button (click)="onStatusChange()" [class.done]="task.done">
        {{ task.done ? 'Mark Undone' : 'Mark Done' }}
      </button>
      <button (click)="onDelete()" class="delete">Delete</button>
    </div>
  </div>
  <div class="task-details" *ngIf="!editMode">
    <p><strong>Entity:</strong> {{ task.entityName }}</p>
    <p><strong>Type:</strong> {{ task.taskType }}</p>
    <p><strong>Date:</strong> {{ task.date }}</p>
    <p><strong>Time:</strong> {{ task.time }}</p>
    <p><strong>Contact:</strong> {{ task.contactPerson }}</p>
    <p><strong>Status:</strong> {{ task.status }}</p>
    <p><strong>Note:</strong> {{ task.note }}</p>
  </div>
  <div class="task-details" *ngIf="editMode">
    <input [(ngModel)]="editedTask.entityName" placeholder="Entity">
    <input [(ngModel)]="editedTask.taskType" placeholder="Type">
    <input [(ngModel)]="editedTask.date" type="date">
    <input [(ngModel)]="editedTask.time" type="time">
    <input [(ngModel)]="editedTask.contactPerson" placeholder="Contact">
    <select [(ngModel)]="editedTask.status">
      <option value="pending">Pending</option>
      <option value="in-progress">In Progress</option>
      <option value="completed">Completed</option>
    </select>
    <textarea [(ngModel)]="editedTask.note" placeholder="Note"></textarea>
  </div>
</div>